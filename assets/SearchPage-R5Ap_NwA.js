import{e as y,r as l,f as b,u as f,j as e,L as d,E as h}from"./index-B-Byfy3r.js";import{T as g}from"./ThreadList-Cm2q98K6.js";import"./Badge-CgDz3ybh.js";import"./index-CABy_kWu.js";function v(){const[m,i]=y(),u=m.get("q")||"",[n,x]=l.useState(u),t=b(n,300),{threads:c}=f(),r=l.useMemo(()=>{const a=t.toLowerCase().trim();return a?c.filter(s=>{var o;return s.title.toLowerCase().includes(a)||s.body.toLowerCase().includes(a)||((o=s.tags)==null?void 0:o.some(j=>j.includes(a)))}):[]},[t,c]),p=a=>{const s=a.target.value;x(s),s.trim()?i({q:s}):i({})};return e.jsxs("main",{id:"main-content",className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-6",children:e.jsxs("ol",{className:"flex items-center gap-2 text-sm",children:[e.jsx("li",{children:e.jsx(d,{to:"/",className:"text-ink-400 hover:text-rust-500 transition-colors",children:"Discussions"})}),e.jsx("li",{className:"text-ink-300 dark:text-ink-600","aria-hidden":"true",children:"/"}),e.jsx("li",{className:"text-ink-700 dark:text-parchment-200 font-medium","aria-current":"page",children:"Search"})]})}),e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"font-display text-2xl font-semibold text-ink-900 dark:text-parchment-100 mb-4",children:"Search Discussions"}),e.jsxs("form",{role:"search",children:[e.jsx("label",{htmlFor:"search-input",className:"sr-only",children:"Search discussions"}),e.jsx("input",{id:"search-input",type:"search",value:n,onChange:p,placeholder:"Search by title, content, or tag‚Ä¶",className:"input-base text-base",autoFocus:!0,"aria-describedby":"search-results-summary"})]})]}),e.jsx("div",{id:"search-results-summary","aria-live":"polite",className:"mb-4",children:t&&e.jsx("p",{className:"text-sm text-ink-500 dark:text-ink-400",children:r.length>0?`${r.length} result${r.length!==1?"s":""} for "${t}"`:`No results for "${t}"`})}),t?r.length===0?e.jsx(h,{icon:"üîç",title:"No results found",description:"Try different keywords or browse by category.",action:e.jsx(d,{to:"/",className:"btn-secondary",children:"Browse All Threads"})}):e.jsx(g,{threads:r}):e.jsx(h,{icon:"‚åï",title:"Start searching",description:"Enter a keyword to search through all discussions, posts, and tags."})]})}export{v as default};
