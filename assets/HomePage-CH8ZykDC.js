import{u,a as p,r as d,j as e,L as c}from"./index-Ce-aIIIL.js";import{T as g}from"./ThreadList-CxjW7-Jz.js";import"./Badge-MNIyWpy1.js";import"./index-CABy_kWu.js";const j=[{value:"latest",label:"Latest"},{value:"popular",label:"Most Popular"},{value:"unread",label:"Unread"}],v=[{value:"all",label:"All"},{value:"unread",label:"Unread only"}];function y(){const{threads:r,categories:n}=u(),o=p(),[l,x]=d.useState("latest"),[i,m]=d.useState("all"),h=d.useMemo(()=>{let a=[...r];return i==="unread"&&(a=a.filter(t=>!t.isRead)),l==="popular"?a.sort((t,s)=>s.views-t.views):l==="latest"?a.sort((t,s)=>new Date(s.createdAt)-new Date(t.createdAt)):l==="unread"&&a.sort((t,s)=>t.isRead!==s.isRead?t.isRead?1:-1:new Date(s.createdAt)-new Date(t.createdAt)),a},[r,l,i]);return e.jsx("main",{id:"main-content",className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl font-semibold text-ink-900 dark:text-parchment-100",children:"All Discussions"}),e.jsxs("p",{className:"text-sm text-ink-500 dark:text-ink-400 mt-0.5",children:[r.length," threads across ",n.length," categories"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:i,onChange:a=>m(a.target.value),className:"input-base h-9 py-0 text-sm w-auto","aria-label":"Filter threads",children:v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("select",{value:l,onChange:a=>x(a.target.value),className:"input-base h-9 py-0 text-sm w-auto","aria-label":"Sort threads",children:j.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]}),e.jsx(g,{threads:h,onNewThread:()=>o("/new")})]}),e.jsxs("aside",{className:"space-y-6","aria-label":"Categories and stats",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("h2",{className:"font-display text-base font-semibold text-ink-800 dark:text-parchment-100 mb-3",children:"Categories"}),e.jsx("nav",{"aria-label":"Browse by category",children:e.jsx("ul",{className:"space-y-1",children:n.map(a=>e.jsx("li",{children:e.jsxs(c,{to:`/category/${a.id}`,className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-parchment-100 dark:hover:bg-ink-700 transition-colors group",children:[e.jsx("span",{"aria-hidden":"true",className:"text-lg",children:a.icon}),e.jsx("span",{className:"flex-1 text-sm text-ink-700 dark:text-parchment-200 group-hover:text-rust-600 dark:group-hover:text-rust-400 transition-colors",children:a.name}),e.jsx("span",{className:"text-xs text-ink-400 dark:text-ink-500 font-mono",children:a.threadCount})]})},a.id))})})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h2",{className:"font-display text-base font-semibold text-ink-800 dark:text-parchment-100 mb-3",children:"Forum Stats"}),e.jsx("dl",{className:"space-y-2",children:[{label:"Threads",value:r.length},{label:"Categories",value:n.length},{label:"Unread",value:r.filter(a=>!a.isRead).length}].map(({label:a,value:t})=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("dt",{className:"text-ink-500 dark:text-ink-400",children:a}),e.jsx("dd",{className:"font-mono font-medium text-ink-800 dark:text-parchment-200",children:t})]},a))})]}),e.jsxs("div",{className:"card p-4 bg-parchment-100 dark:bg-ink-800 border-parchment-300 dark:border-ink-600",children:[e.jsx("h2",{className:"font-display text-base font-semibold text-ink-800 dark:text-parchment-100 mb-2",children:"Start a Discussion"}),e.jsx("p",{className:"text-xs text-ink-500 dark:text-ink-400 mb-3",children:"Have something to share? Start a new thread and get the conversation going."}),e.jsx(c,{to:"/new",className:"btn-primary w-full justify-center",children:"+ New Thread"})]})]})]})})}export{y as default};
